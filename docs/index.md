# Anomalo Terraform Provider

A Terraform provider that allows you to manage [Anomalo](https://docs.anomalo.com/introduction/readme) resources in bulk.

This plugin has benefits over other ways to manage your Anomalo setup. Namely:

- Version controlled, declarative configuration
- Bulk actions (ie. with `for_each` and variables)
- Line-by-line diffs
- Variables
  - ex. update the notification time for all checks with a single variable change
- Collaboration - prevent overwriting & conflicts (via [cloud-based state management](https://developer.hashicorp.com/terraform/language/state/remote))
- Bulk update or copy checks across tables & environments
- Integrate with your existing CICD workflow

The biggest contributions of this provider are the Check and Table resources. These correspond to their counterparts in the Anomalo API docs. Those docs should answer most questions you have about resources and attributes.

In some places the provider API differs from Anomalo to conform to Terraform best practices & expectations. This documentation highlights any differences between the two.

See the navigation bar for more information on the resources available.

## Example Usage

```terraform
terraform {
  required_providers {
    anomalo = {
      source = "square/anomalo"
    }
  }
}

provider "anomalo" {
  host = "https://anomalo.example.com"
  token = "<token>"
}

### With organizations

terraform {
  required_providers {
    anomalo = {
      source = "square/anomalo"
    }
  }
}

provider "anomalo" {
  alias="square"
  host = "https://anomalo.example.com"
  token = "<token>"
  organization = "square"
}

provider "anomalo" {
  alias="cash-app"
  host = "https://anomalo.example.com"
  token = "<token>"
  organization = "cashapp"
}

resource "anomalo_table" "VariationsTable" {
  # <some attributes>
  provider = anomalo.square
}

resource "anomalo_table" "BitcoinPurchasesTable" {
  # <some attributes>
  provider = anomalo.cashapp
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `host` (String) Your anomalo API host. Ex `https://anomalo.mycompany.com`
- `organization` (String) Optional - the name of the organization this API key should act within the scope of. Ex. `Square`. The provider _will not_ reset the organization after it finishes executing, because the terraform provider plugin does not make this easy to do efficiently.
Note: We recommend keeping API keys and organizations 1:1. That allows you to exclude this parameter, and avoids the possibility that other users of the API key change it's current organization while your terraform code is executing (or vice versa).
Advanced users can explore the resource `provider` meta-argument and configure multiple providers. *It is important that these providers use different API keys* to work correctly. Otherwise, the organization of the most recently initialized provider will be used. Configuration order is not guaranteed by the terraform API.
- `token` (String, Sensitive) Your anomalo API token. Ex `j1ThisIsaFake%tokenMxJ`



